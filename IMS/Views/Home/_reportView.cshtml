
<div style="width:100%">
    <div style="height:35px;width:100%;text-align:center;padding-top:10px" id="noise"><p style="font-size:25px;color:white;"> Generate Report</p> </div>
    <div style="margin-left:8%;margin-top:20px">
        <div class="par">
            <div style="float: left; width: 70px">Start</div>
            <div style="float: left; width: 30px">:</div>
            <div style="float: left; width: 30px">
                @(Html.Kendo().DatePicker()
                    .Name("startdate")
                    .Value(DateTime.Today)
                    .HtmlAttributes(new { @style = "width: 200px" })
                )
            </div>
        </div>
        <div class="par">
            <div style="float: left; width: 70px">End</div>
            <div style="float: left; width: 30px">:</div>
            <div style="float: left; width: 30px">
                @(Html.Kendo().DatePicker()
                    .Name("enddate")
                    .Value(DateTime.Today)
                    .HtmlAttributes(new { @style = "width: 200px" })
                )
            </div>
        </div>
        <div class="par">
            <div style="float: left; width: 70px">Items</div>
            <div style="float: left; width: 30px">:</div>
            <div style="float: left; width: 30px">
                @(Html.Kendo().DropDownList()
                    .Name("items")
                    .DataTextField("itemName")
                    .DataValueField("itemid")
                    .OptionLabel("All Items")
                    .HtmlAttributes(new { @style = "width: 200px" })
                    .Filter("contains")
                    .AutoBind(true)
                    .MinLength(1)
                    .DataSource(source => source.Read(read => read.Action("items", "Home")))
                )
            </div>
        </div>
        <div class="par">
            <div style="float: left; width: 70px">Employee</div>
            <div style="float: left; width: 30px">:</div>
            <div style="float: left; width: 30px">
                @(Html.Kendo().DropDownList()
                    .Name("Employee")
                    .DataTextField("empName")
                    .DataValueField("eid")
                    .OptionLabel("All Employees")
                    //.Placeholder("All Employees")
                    //.Value("All Employees")
                    .HtmlAttributes(new { @style = "width: 200px" })
                    .Filter("contains")
                    .AutoBind(true)
                    .MinLength(1)
                    .DataSource(source => source.Read(read => read.Action("employeeList", "Home")))
                )
            </div>
        </div>
        <div class="par">
            <div style="float: left; width: 70px">Stock</div>
            <div style="float: left; width: 30px">:</div>
            <div style="float: left; width: 30px">
                @(Html.Kendo().DropDownList()
                    .Name("in_out")
                    .OptionLabel("All")
                    .HtmlAttributes(new { @style = "width: 200px" })
                    .BindTo(new List<string>() { 
                        "IN",
                        "OUT"
                    })
                )
            </div>
        </div>
        <div class="par">
            <div style="margin-top:15px">
                <button id="button" onclick="printRep()" class="k-primary fill"><i class="icon-printer"></i>Print</button>
            </div>
        </div>
    </div>


</div>
<div class="color-line" style="clear:both;margin-top:10px"></div>

<script>

    $(document).ready(function () {
        $("#Employee").data("kendoDropDownList").list.width(250);
        $("#items").data("kendoDropDownList").list.width(250);
    })

    function printRep() {
        var startDt = document.getElementById("startdate").value;
        var endDt = document.getElementById("enddate").value;
       // alert($("#items").val())
        //alert($("#in_out").val())

        if ((new Date(startDt).getTime() > new Date(endDt).getTime())) {
            swal("Error","End Date Must Be Greater Than Start Date")
        }
        else {
            if ($("#items").val() == "" && $("#Employee").val() != "")
                window.open("@Url.Content("~/Reports/report.aspx?repID=")" + 2 + "&in_out=" + $("#in_out").val() + "&eid=" + $("#Employee").val() + "&itemid=" + 0 + "&start=" + $("#startdate").val() + "&end=" + $("#enddate").val(), "Report", "status=1", "location=1");
        else if ($("#Employee").val() == "" && $("#items").val() != "")
            window.open("@Url.Content("~/Reports/report.aspx?repID=")" + 1 + "&in_out=" + $("#in_out").val() + "&itemid=" + $("#items").val() + "&start=" + $("#startdate").val() + "&end=" + $("#enddate").val(), "Report", "status=1", "location=1");
        else if ($("#items").val() != "" && $("#Employee").val() != "")
            window.open("@Url.Content("~/Reports/report.aspx?repID=")" + 2 + "&in_out=" + $("#in_out").val() + "&eid=" + $("#Employee").val() + "&itemid=" + $("#items").val() + "&start=" + $("#startdate").val() + "&end=" + $("#enddate").val(), "Report", "status=1", "location=1");
        else
            window.open("@Url.Content("~/Reports/report.aspx?repID=")" + 1 + "&in_out=" + $("#in_out").val() + "&itemid=" + 0 + "&start=" + $("#startdate").val() + "&end=" + $("#enddate").val(), "Report", "status=1", "location=1");
        }
    }
</script> 